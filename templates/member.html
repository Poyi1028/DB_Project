<!DOCTYPE html>
<html>
<head>
    <title>使用者資訊</title>
    <link rel="stylesheet" href="/static/css/member.css">
</head>
<body>
    <!-- <form action="/home" method="get">
        <div class="header">
            <button class="home-btn">回首頁</button>
        </div>
    </form> -->
    <div class="main-container">
        <div class="user-info-container">
            <form action="/member" method="POST">
                <div class="user-info">
                    <h2>會員資訊</h2>
                    <div class="form-group">
                        <label for="userId">ID:</label>
                        <input type="text" id="userId" name="id" value="{{ id }}" readonly>
                    </div>
                    <div class="form-group">
                        <label for="userName">名稱:</label>
                        <input type="text" id="userName" name="name" value="{{ name }}">
                    </div>
                    <div class="form-group">
                        <label for="height">身高:</label>
                        <input type="number" id="height" name="height" value="{{ height }}">
                    </div>
                    <div class="form-group">
                        <label for="weight">體重:</label>
                        <input type="number" id="weight" name="weight" value="{{ weight }}">
                    </div>
                    <div class="form-group">
                        <label for="gender">性別:</label>
                        <select id="gender" name="gender">
                            <option value="male">男</option>
                            <option value="female">女</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="goal">目標:</label>
                        <select id="goal" name="obj">
                            <option value="增肌">增肌</option>
                            <option value="減脂">減脂</option>
                            <option value="維持身材">維持身材</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="age">年齡:</label>
                        <input type="number" id="age" name="age" value="{{ age }}">
                    </div>
                    <div class="button-container">
                        <button id="editBtn" type="submit">編輯資訊</button>
                        <button id="homeBtn" type="button" class="home-btn">返回首頁</button>
                    </div>
                </div> 
            </form>
        </div>
        <div class="fitness-report-container">
            <div class="fitness-report">
                <h2>健身報告</h2>
                <img src="" alt="Fitness Report">
                <div class="button-container">
                    <button id="generateByn">生成報告</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        // 獲取後端傳遞的值
        const genderValue = '{{ gender }}';
        const objValue = '{{ obj }}';

        // 獲取 select 元素
        const genderSelect = document.getElementById('gender');
        const objSelect = document.getElementById('goal')

        // 遍歷所有選項,找到與後端傳遞的值相同的選項,並將其設置為選中
        for (let i = 0; i < genderSelect.options.length; i++) {
            if (genderSelect.options[i].value === genderValue) {
                genderSelect.options[i].selected = true;
                break;
            }
        }

        for (let i = 0; i < objSelect.options.length; i++) {
            if (objSelect.options[i].value === objValue){
                objSelect.options[i].selected = true;
                break;
            }
        }

        // 獲取"回首頁"按鈕元素
        const homeBtn = document.getElementById('homeBtn');

        // 添加點擊事件監聽器
        homeBtn.addEventListener('click', function() {
            // 重定向到首頁
            window.location.href = '/home';
        });
    </script>
</body>
</html>